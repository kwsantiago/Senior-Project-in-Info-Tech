$Quarantine_Folder = 'C:\Program Files\ClamAV\Quarantine'
$Adware_Location = 'C:\Program Files\WaveBrowser'
$Ransomware_Location = 'C:\Users\Wyatt Earp\AppData\Local\T3mp'
$Rootkit_Location = 'C:\Users\Wyatt Earp\Downloads'

$Clam_Scanner = 'C:\Program Files\ClamAV\clamscan.exe -i --no-summary'
$Clam_Log = 'C:\Program Files\ClamAV\clamd.log'

while ($true) {
    # Case 1: Adware is detected but not cleaned.
    & 'C:\Program Files\ClamAV\clamscan.exe' -i --no-summary 'C:\Program Files\WaveBrowser' | %{ "{0:o}: {1} ({2})" -f (Get-Date -format "MMM dd yyyy HH:mm:ss:fff K"), $_, $env:COMPUTERNAME} | Out-File "C:\Program Files\ClamAV\clamd.log" -Append -Encoding utf8;

    # Case 2: Ransomware detection
    & 'C:\Program Files\ClamAV\clamscan.exe' -i --no-summary 'C:\Users\Wyatt Earp\Appdata\Local\T3mp' | %{ "{0:o}: {1} ({2})" -f (Get-Date -format "MMM dd yyyy HH:mm:ss:fff K"), $_, $env:COMPUTERNAME} | Out-File "C:\Program Files\ClamAV\clamd.log" -Append -Encoding utf8;

    # Case 3: Persistent Rootkit Malware:
    & 'C:\Program Files\ClamAV\clamscan.exe' -i --remove=yes --no-summary 'C:\Users\Wyatt Earp\Downloads' | %{ "{0:o}: {1} ({2})" -f (Get-Date -format "MMM dd yyyy HH:mm:ss:fff K"), $_, $env:COMPUTERNAME} | Out-File "C:\Program Files\ClamAV\clamd.log" -Append -Encoding utf8;

    # Copying rootkit back into original path:
    Copy-Item -Path 'C:\Users\Wyatt Earp\Desktop\Virus Folder\Rootkit.txt' -Destination 'C:\Users\Wyatt Earp\Downloads';
}




